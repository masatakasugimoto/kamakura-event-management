# zen2.0進行管理アプリ

zen2.0で開催されるイベントの進行状況を参加者にお知らせし、管理者がイベントや場所を管理できるWebアプリケーションです。

## 🌟 主な機能

### 📱 参加者向け機能
- **イベントスケジュール表示**: 日付・時間別にイベントがリスト表示
- **インタラクティブ地図**: Google Maps統合で鎌倉の地図表示
- **会場マーカー**: イベント開催場所が星印で表示
- **イベント連携**: リストのイベントと地図マーカーが連動
- **リアルタイム情報**: イベントの進行状況（予定・進行中・完了・キャンセル）
- **レスポンシブデザイン**: PC・タブレット・スマートフォン対応

### ⚙️ 管理者機能
- **イベント管理**: イベントの登録・編集・削除
- **場所管理**: 開催場所の追加・編集・削除（座標設定機能付き）
- **ステータス管理**: リアルタイムでイベントステータスの更新
- **関連性チェック**: 使用中の場所の削除防止
- **直感的UI**: 管理しやすいインターフェース

## 🏗️ 技術スタック

### フロントエンド
- **React 18** - ユーザーインターフェース
- **TypeScript** - 型安全な開発
- **Vite** - 高速ビルドツール
- **Google Maps JavaScript API** - 地図機能
- **CSS3** - スタイリング（CSS Modules使用）

### バックエンド
- **Express.js** - Node.js Webフレームワーク
- **TypeScript** - 型安全なサーバー開発
- **JSON ファイル** - 軽量データストレージ
- **CORS対応** - クロスオリジンリクエスト対応

## 🚀 セットアップ方法

### 前提条件
- Node.js 16.0.0 以上
- npm 7.0.0 以上
- Google Maps API キー

### 1. リポジトリのクローンと依存関係のインストール
```bash
# プロジェクトディレクトリに移動
cd kamakura-event-app

# 全ての依存関係をインストール
npm run install:all
```

### 2. Google Maps APIキーの設定
```bash
# フロントエンドディレクトリに移動
cd frontend

# 環境変数ファイルを作成
cp .env.example .env

# .envファイルを編集してGoogle Maps APIキーを設定
# VITE_GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here
```

### 3. アプリケーションの起動
```bash
# プロジェクトルートで実行（フロントエンドとバックエンド同時起動）
npm run dev

# または個別に起動
npm run dev:frontend  # フロントエンド (http://localhost:5173)
npm run dev:backend   # バックエンド (http://localhost:3001)
```

### 4. ブラウザでアクセス
- **アプリケーションポータル**: `main-menu.html` (ダブルクリックで開く)
- **鎌倉イベント管理アプリ**: http://localhost:5173
- **API エンドポイント**: http://localhost:3001/api

## 📱 使用方法

### 参加者モード
1. ブラウザでアプリケーションにアクセス
2. 左側のイベントリストでスケジュールを確認
3. 右側の地図で開催場所を確認
4. イベントをクリックすると地図上の対応する場所がハイライト
5. 地図のマーカーをクリックするとそこで開催されるイベント情報を表示

### 管理者モード
1. 画面右上の「管理者モード」ボタンをクリック
2. **イベント管理タブ**:
   - 新しいイベントを作成
   - 既存イベントの編集・削除
   - イベントステータスの更新
3. **場所管理タブ**:
   - 新しい場所を追加
   - 既存場所の編集・削除
   - 座標の自動取得・手動設定

## 📂 プロジェクト構造

```
kamakura-event-app/
├── frontend/                 # React フロントエンド
│   ├── src/
│   │   ├── components/      # Reactコンポーネント
│   │   ├── services/        # API通信
│   │   ├── types/          # TypeScript型定義
│   │   └── ...
│   └── ...
├── backend/                 # Express バックエンド
│   ├── src/
│   │   ├── routes/         # APIルート
│   │   ├── types/          # TypeScript型定義
│   │   └── index.ts        # サーバーエントリーポイント
│   └── data/               # JSONデータファイル
│       ├── events.json     # イベントデータ
│       └── locations.json  # 場所データ
└── README.md
```

## 🌐 API エンドポイント

### イベント
- `GET /api/events` - 全イベント取得
- `GET /api/events/:id` - 特定イベント取得
- `POST /api/events` - イベント作成
- `PUT /api/events/:id` - イベント更新
- `DELETE /api/events/:id` - イベント削除

### 場所
- `GET /api/locations` - 全場所取得
- `GET /api/locations/:id` - 特定場所取得
- `POST /api/locations` - 場所作成
- `PUT /api/locations/:id` - 場所更新
- `DELETE /api/locations/:id` - 場所削除

## 🔧 開発用コマンド

```bash
# 開発サーバー起動（フロントエンド・バックエンド同時）
npm run dev

# フロントエンドのみ起動
npm run dev:frontend

# バックエンドのみ起動
npm run dev:backend

# フロントエンドビルド
npm run build

# 全依存関係インストール
npm run install:all

# アプリケーションポータルを開く
npm run portal
```

## 🚀 **アプリケーションポータル機能**

### ポータルの特徴
- **統合ランチャー**: 複数のアプリケーションを一元管理
- **美しいUI**: グラディエント背景とガラスモーフィズム効果
- **レスポンシブデザイン**: デスクトップ・タブレット・スマートフォン対応
- **アニメーション効果**: スムーズな画面遷移

### 利用可能なアプリ
1. **🎤 音声認識アプリ** (V2.2) - 音声翻訳・読み上げ機能
2. **🏮 zen2.0管理** (V1.0) - zen2.0管理システム
3. **📝 メモ・ノートアプリ** (開発予定)
4. **📊 データ分析ツール** (開発予定)  
5. **🌤️ 天気予報アプリ** (開発予定)

## 📝 デフォルトデータ

アプリケーションには以下の鎌倉の有名な場所とイベントがプリセットされています：

### 場所
- 鶴岡八幡宮
- 長谷寺
- 高徳院（鎌倉大仏）
- 建長寺
- 円覚寺

### サンプルイベント
- 開会式・お祓い儀式
- 伝統芸能パフォーマンス
- 観音様特別拝観
- 大仏前での瞑想会
- 写経体験
- 座禅体験
- 閉会式・感謝の儀

## 🛠️ カスタマイズ

### データの変更
`backend/data/` ディレクトリの JSON ファイルを直接編集するか、管理者モードから変更できます。

### スタイルの変更
各コンポーネントの `.css` ファイルを編集してスタイルをカスタマイズできます。

### 新機能の追加
- フロントエンド: `frontend/src/components/` に新しいコンポーネントを追加
- バックエンド: `backend/src/routes/` に新しいAPIルートを追加

## 🐛 トラブルシューティング

### Google Maps が表示されない
- `.env` ファイルに正しいAPIキーが設定されているか確認
- Google Cloud Console でMaps JavaScript APIが有効化されているか確認

### サーバー接続エラー
- バックエンドサーバーが起動しているか確認 (http://localhost:3001)
- ポート3001が他のアプリケーションで使用されていないか確認

### データが保存されない
- `backend/data/` ディレクトリに書き込み権限があるか確認
- JSONファイルの形式が正しいか確認

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

プルリクエストや Issue の投稿を歓迎します！

---

**🏮 鎌倉の美しい文化と伝統を現代の技術で繋ぐ 🏮**